---
title: "IntroduÃ§Ã£o a R (cont.)"
subtitle: "CiÃªncia de dados ðŸ˜œ"
author: "fnaufel"
date: "(modificado em `r Sys.Date()`)"
output: 
  rmdformat::fnaufel_rmd_format:
    theme: readable # https://bootswatch.com/3/readable/
    highlight: pygment
    toc: true
    toc_depth: 2
    toc_float: true
    number_sections: true
    fig_caption: true
    df_print: paged
    self_contained: true
    code_download: true
    code_folding: show
    keep_md: false
    # includes:
    #   in_header: header.html
    #   before_body: doc_prefix.html
    #   after_body: doc_suffix.html
---

```{r setup}
library(tidyverse)
```


# Fonte

(Baseado em Garrett Grolemund, *Hands-On Programming With R: Write Your Own Functions and Simulations*.)


# LanÃ§ar dados

Criar um dado de 6 lados:

```{r criar-dado}
(dado <- 1:6)
```

LanÃ§ar este dado uma vez:

```{r lancar-1}
sample(dado, 1)
```

Definir nÃºmero de lanÃ§amentos:

```{r def-n}
n <- 6
```

LanÃ§ar o dado `r n` vezes:

```{r lancar-n}
sample(dado, n, replace = TRUE)
```

# Uma funÃ§Ã£o para retornar a soma de 2 dados

```{r soma-2-dados}

lancar2 <- function() {
  
  dado <- 1:6
  lancamentos <- sample(dado, size = 2, replace = TRUE)
  sum(lancamentos)
  
}

```

```{r lancar-2-dados}
lancar2()
```

## Generalizar a funÃ§Ã£o

O nÃºmero de lados do dado Ã© passado como argumento.

A quantidade de dados Ã© passada como argumento.

```{r lancar-n-dados-k-lados}
lancar <- function(n = 2, k = 6) {
  
  dado <- 1:k
  lancamentos <- sample(dado, size = n, replace = TRUE)
  sum(lancamentos)
  
}
```

```{r lancar-sem-arg}
lancar()
```

```{r lancar-4-10}
lancar(n = 4, k = 10)
```


## Replicar muitas vezes

```{r repl}
resultados <- replicate(1e4, lancar())
```

# VisualizaÃ§Ã£o

```{r qplot}
qplot(resultados, bins = 11)
```


# Dados viciados

```{r viciados}
lancar <- function(qtde = 2, lados = 6, probs = rep(1/lados, lados)) {
  dado <- 1:lados
  resultados <- sample(dado, size = qtde, replace = TRUE, prob = probs)
  sum(resultados)
}
```

```{r lancar-viciados}
resultados <- replicate(1e4, lancar(probs = c(1/2, rep(1/10, 5))))
```

```{r plot-viciados}
qplot(resultados, bins = 11)
```

